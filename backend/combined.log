{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-17T08:11:25.024Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-17T08:11:25.026Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-17T08:11:37.737Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-17T08:11:37.739Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-17T23:21:45.804Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-17T23:21:45.810Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-17T23:25:41.733Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-17T23:25:41.735Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-17T23:35:51.236Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-17T23:35:51.237Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-17T23:39:01.621Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-17T23:39:01.623Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T02:19:08.940Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T02:19:08.945Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T02:20:38.556Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T02:20:38.558Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T02:23:48.297Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T02:23:48.299Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T02:30:42.001Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T02:30:42.003Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T02:31:19.242Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T02:31:19.244Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T02:31:19.245Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T02:35:20.143Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T02:35:20.147Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T02:35:20.147Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T04:31:22.468Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T04:31:22.476Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T04:31:22.476Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T04:33:28.728Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T04:33:28.731Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T04:33:28.731Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T04:38:58.230Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T04:38:58.236Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T04:38:58.236Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T04:39:04.822Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T04:39:04.826Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T04:39:04.827Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T04:39:12.735Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T04:39:12.740Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T04:39:12.740Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T04:39:17.053Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T04:39:17.056Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T04:39:17.057Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T04:40:28.719Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T04:40:28.726Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T04:40:28.726Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T04:48:37.436Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T04:48:37.440Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T04:48:37.440Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T04:48:51.607Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T04:48:51.611Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T04:48:51.612Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T04:50:32.505Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T04:50:32.511Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T04:50:32.512Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:00:58.640Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:00:58.646Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:00:58.647Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:06:37.550Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:06:37.555Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:06:37.555Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:12:30.445Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:12:30.447Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:12:30.447Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:13:07.125Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:13:07.128Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:13:07.128Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:17:49.435Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:17:49.444Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:17:49.446Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:21:38.172Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:21:38.174Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:21:38.175Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:22:18.877Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:22:18.880Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:22:18.880Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:36:49.052Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:36:49.062Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:36:49.063Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:39:47.214Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:39:47.218Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:39:47.218Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:39:53.951Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:39:53.955Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:39:53.956Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:41:53.463Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:41:53.470Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:41:53.470Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:50:22.599Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:50:22.607Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:50:22.608Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:53:54.304Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:53:54.312Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:53:54.313Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T05:58:04.873Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T05:58:04.879Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T05:58:04.880Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T06:06:01.810Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T06:06:01.817Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T06:06:01.817Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T06:39:44.270Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T06:39:44.276Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T06:39:44.276Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T06:59:18.532Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T06:59:18.543Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T06:59:18.544Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T07:00:04.532Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T07:00:04.535Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T07:00:04.535Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T07:02:32.664Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T07:02:32.668Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T07:02:32.668Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T07:03:19.873Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T07:03:19.876Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T07:03:19.876Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T07:03:30.337Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T07:03:30.343Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T07:03:30.344Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T07:47:22.120Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T07:47:22.124Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T07:47:22.124Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T07:57:51.885Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T07:57:51.888Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T07:57:51.888Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T07:57:54.260Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T07:57:54.264Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T07:57:54.264Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T07:59:23.364Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T07:59:23.368Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T07:59:23.369Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T08:06:08.226Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T08:06:08.232Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T08:06:08.232Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T08:06:50.792Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T08:06:50.797Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T08:06:50.798Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T08:06:57.618Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T08:06:57.624Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T08:06:57.624Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T18:22:41.084Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T18:22:41.090Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T18:22:41.091Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T18:23:19.142Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T18:23:19.146Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T18:23:19.146Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T18:24:32.810Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T18:24:32.816Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T18:24:32.817Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T18:29:48.144Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T18:29:48.146Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T18:29:48.146Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T18:29:55.016Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T18:29:55.018Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T18:29:55.019Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T18:30:02.196Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T18:30:02.199Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T18:30:02.199Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T18:30:22.467Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T18:30:22.473Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T18:30:22.473Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-18T18:30:27.229Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-18T18:30:27.233Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-18T18:30:27.234Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-23T22:41:50.437Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-23T22:41:50.446Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-23T22:41:50.446Z"}
{"level":"info","message":"Mood logged for user 68aa44c6e793dff1796e0fc7","timestamp":"2025-08-23T23:21:03.856Z"}
{"level":"info","message":"Mood logged for user 68aa44c6e793dff1796e0fc7","timestamp":"2025-08-23T23:24:10.303Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-24T06:55:43.615Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-24T06:55:43.620Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-24T06:55:43.620Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-24T08:24:56.042Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-24T08:24:56.045Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-24T08:24:56.046Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-24T08:28:40.898Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-24T08:28:40.901Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-24T08:28:40.901Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-27T06:43:49.468Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-27T06:43:49.478Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-27T06:43:49.479Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-27T06:43:51.781Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-27T06:43:51.784Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-27T06:43:51.784Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-27T06:43:58.068Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-27T06:43:58.075Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-27T06:43:58.076Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-28T07:56:36.962Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-28T07:56:36.965Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-28T07:56:36.965Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-28T07:56:45.286Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-28T07:56:45.292Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-28T07:56:45.293Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-29T19:32:25.439Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-29T19:32:25.461Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-29T19:32:25.463Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-29T19:33:23.239Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-29T19:33:23.249Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-29T19:33:23.250Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-29T19:33:34.539Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-29T19:33:34.543Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-29T19:33:34.543Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-29T20:16:06.003Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-29T20:16:06.012Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-29T20:16:06.013Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-29T20:16:53.162Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-29T20:16:53.166Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-29T20:16:53.167Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-29T20:16:57.249Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-29T20:16:57.252Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-29T20:16:57.253Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-29T20:17:39.677Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-29T20:17:39.684Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-29T20:17:39.685Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-29T23:17:06.831Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-29T23:17:06.837Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-29T23:17:06.837Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-29T23:17:30.173Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-29T23:17:30.176Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-29T23:17:30.177Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-29T23:40:47.014Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-29T23:40:47.027Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-29T23:40:47.029Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-29T23:41:34.325Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-29T23:41:34.334Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-29T23:41:34.335Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-30T00:08:24.846Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-30T00:08:24.854Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-30T00:08:24.855Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-30T00:18:02.355Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-30T00:18:02.358Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-30T00:18:02.359Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-30T02:15:13.097Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-30T02:15:13.109Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-30T02:15:13.110Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-30T02:24:52.750Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-30T02:24:52.757Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-30T02:24:52.758Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-30T02:26:43.354Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-08-30T02:26:43.359Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-30T02:26:43.360Z"}
{"level":"info","message":"Processing message: hello","sessionId":"8ff1ac5f-8177-423a-a303-f45cb753cee7","timestamp":"2025-09-01T18:01:45.959Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n              1. Provide empathetic and supportive responses\n              2. Use evidence-based therapeutic techniques\n              3. Maintain professional boundaries\n              4. Monitor for risk factors\n              5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T18:01:46.136Z"}
{"level":"error","message":"Error in sendMessage: Inngest API Error: 401 Event key not found","stack":"Error: Inngest API Error: 401 Event key not found\n    at Inngest.getResponseError (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:386:12)\n    at body.maxAttempts.maxAttempts (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:688:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/helpers/promises.ts:247:14)\n    at async Inngest._send (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:667:18)\n    at async sendMessage (/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts:107:9)","timestamp":"2025-09-01T18:01:50.016Z"}
{"level":"info","message":"Processing message: hello","sessionId":"8ff1ac5f-8177-423a-a303-f45cb753cee7","timestamp":"2025-09-01T18:02:01.237Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n              1. Provide empathetic and supportive responses\n              2. Use evidence-based therapeutic techniques\n              3. Maintain professional boundaries\n              4. Monitor for risk factors\n              5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T18:02:01.281Z"}
{"level":"error","message":"Error in sendMessage: Inngest API Error: 401 Event key not found","stack":"Error: Inngest API Error: 401 Event key not found\n    at Inngest.getResponseError (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:386:12)\n    at body.maxAttempts.maxAttempts (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:688:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/helpers/promises.ts:247:14)\n    at async Inngest._send (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:667:18)\n    at async sendMessage (/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts:107:9)","timestamp":"2025-09-01T18:02:03.678Z"}
{"level":"info","message":"Processing message: hello","sessionId":"8ff1ac5f-8177-423a-a303-f45cb753cee7","timestamp":"2025-09-01T18:06:56.635Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n              1. Provide empathetic and supportive responses\n              2. Use evidence-based therapeutic techniques\n              3. Maintain professional boundaries\n              4. Monitor for risk factors\n              5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T18:06:56.676Z"}
{"level":"error","message":"Error in sendMessage: Inngest API Error: 401 Event key not found","stack":"Error: Inngest API Error: 401 Event key not found\n    at Inngest.getResponseError (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:386:12)\n    at body.maxAttempts.maxAttempts (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:688:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/helpers/promises.ts:247:14)\n    at async Inngest._send (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:667:18)\n    at async sendMessage (/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts:107:9)","timestamp":"2025-09-01T18:06:59.615Z"}
{"level":"info","message":"Processing message: hello","sessionId":"ff1167da-3b76-45a5-acc9-cbf80fa44511","timestamp":"2025-09-01T18:07:07.522Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n              1. Provide empathetic and supportive responses\n              2. Use evidence-based therapeutic techniques\n              3. Maintain professional boundaries\n              4. Monitor for risk factors\n              5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T18:07:07.563Z"}
{"level":"error","message":"Error in sendMessage: Inngest API Error: 401 Event key not found","stack":"Error: Inngest API Error: 401 Event key not found\n    at Inngest.getResponseError (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:386:12)\n    at body.maxAttempts.maxAttempts (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:688:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/helpers/promises.ts:247:14)\n    at async Inngest._send (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:667:18)\n    at async sendMessage (/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts:107:9)","timestamp":"2025-09-01T18:07:09.957Z"}
{"level":"info","message":"Processing message: hello","sessionId":"ff1167da-3b76-45a5-acc9-cbf80fa44511","timestamp":"2025-09-01T18:33:14.529Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n              1. Provide empathetic and supportive responses\n              2. Use evidence-based therapeutic techniques\n              3. Maintain professional boundaries\n              4. Monitor for risk factors\n              5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T18:33:14.574Z"}
{"level":"error","message":"Error in sendMessage: Inngest API Error: 401 Event key not found","stack":"Error: Inngest API Error: 401 Event key not found\n    at Inngest.getResponseError (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:386:12)\n    at body.maxAttempts.maxAttempts (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:688:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/helpers/promises.ts:247:14)\n    at async Inngest._send (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:667:18)\n    at async sendMessage (/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts:107:9)","timestamp":"2025-09-01T18:33:17.330Z"}
{"level":"info","message":"Processing message: hi","sessionId":"ff1167da-3b76-45a5-acc9-cbf80fa44511","timestamp":"2025-09-01T18:33:25.329Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hi","systemPrompt":"You are an AI therapist assistant. Your role is to:\n              1. Provide empathetic and supportive responses\n              2. Use evidence-based therapeutic techniques\n              3. Maintain professional boundaries\n              4. Monitor for risk factors\n              5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T18:33:25.371Z"}
{"level":"error","message":"Error in sendMessage: Inngest API Error: 401 Event key not found","stack":"Error: Inngest API Error: 401 Event key not found\n    at Inngest.getResponseError (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:386:12)\n    at body.maxAttempts.maxAttempts (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:688:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/helpers/promises.ts:247:14)\n    at async Inngest._send (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:667:18)\n    at async sendMessage (/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts:107:9)","timestamp":"2025-09-01T18:33:27.660Z"}
{"level":"info","message":"Processing message: wow","sessionId":"ff1167da-3b76-45a5-acc9-cbf80fa44511","timestamp":"2025-09-01T18:33:36.470Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"wow","systemPrompt":"You are an AI therapist assistant. Your role is to:\n              1. Provide empathetic and supportive responses\n              2. Use evidence-based therapeutic techniques\n              3. Maintain professional boundaries\n              4. Monitor for risk factors\n              5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T18:33:36.507Z"}
{"level":"error","message":"Error in sendMessage: Inngest API Error: 401 Event key not found","stack":"Error: Inngest API Error: 401 Event key not found\n    at Inngest.getResponseError (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:386:12)\n    at body.maxAttempts.maxAttempts (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:688:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/helpers/promises.ts:247:14)\n    at async Inngest._send (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:667:18)\n    at async sendMessage (/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts:107:9)","timestamp":"2025-09-01T18:33:38.948Z"}
{"level":"info","message":"Processing message: hi","sessionId":"ff1167da-3b76-45a5-acc9-cbf80fa44511","timestamp":"2025-09-01T18:33:45.075Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hi","systemPrompt":"You are an AI therapist assistant. Your role is to:\n              1. Provide empathetic and supportive responses\n              2. Use evidence-based therapeutic techniques\n              3. Maintain professional boundaries\n              4. Monitor for risk factors\n              5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T18:33:45.120Z"}
{"level":"error","message":"Error in sendMessage: Inngest API Error: 401 Event key not found","stack":"Error: Inngest API Error: 401 Event key not found\n    at Inngest.getResponseError (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:386:12)\n    at body.maxAttempts.maxAttempts (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:688:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/helpers/promises.ts:247:14)\n    at async Inngest._send (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:667:18)\n    at async sendMessage (/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts:107:9)","timestamp":"2025-09-01T18:33:47.562Z"}
{"level":"info","message":"Processing message: hi","sessionId":"ff1167da-3b76-45a5-acc9-cbf80fa44511","timestamp":"2025-09-01T18:33:58.087Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hi","systemPrompt":"You are an AI therapist assistant. Your role is to:\n              1. Provide empathetic and supportive responses\n              2. Use evidence-based therapeutic techniques\n              3. Maintain professional boundaries\n              4. Monitor for risk factors\n              5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T18:33:58.128Z"}
{"level":"error","message":"Error in sendMessage: Inngest API Error: 401 Event key not found","stack":"Error: Inngest API Error: 401 Event key not found\n    at Inngest.getResponseError (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:386:12)\n    at body.maxAttempts.maxAttempts (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:688:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async retryWithBackoff (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/helpers/promises.ts:247:14)\n    at async Inngest._send (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/Inngest.ts:667:18)\n    at async sendMessage (/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts:107:9)","timestamp":"2025-09-01T18:34:00.312Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T19:18:05.070Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T19:18:05.075Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T19:18:05.076Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T19:25:39.823Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T19:25:39.829Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T19:25:39.830Z"}
{"level":"info","message":"Processing message: hello","sessionId":"aac7f3af-f49e-42b6-99f2-1159616f3123","timestamp":"2025-09-01T19:36:31.970Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n              1. Provide empathetic and supportive responses\n              2. Use evidence-based therapeutic techniques\n              3. Maintain professional boundaries\n              4. Monitor for risk factors\n              5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T19:36:32.012Z"}
{"level":"error","message":"Error in sendMessage: Cannot read properties of undefined (reading 'models')","stack":"TypeError: Cannot read properties of undefined (reading 'models')\n    at sendMessage (/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts:125:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01T19:36:32.021Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T19:36:32.099Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error in message analysis: hello","timestamp":"2025-09-01T19:36:32.189Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T19:36:32.245Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T19:36:32.401Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error generating response: hello","timestamp":"2025-09-01T19:36:32.456Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T19:36:32.548Z"}
{"level":"error","message":"Error in therapy session analysis: {\"error\":{\"code\":400,\"message\":\"API key not valid. Please pass a valid API key.\",\"status\":\"INVALID_ARGUMENT\",\"details\":[{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"API_KEY_INVALID\",\"domain\":\"googleapis.com\",\"metadata\":{\"service\":\"generativelanguage.googleapis.com\"}},{\"@type\":\"type.googleapis.com/google.rpc.LocalizedMessage\",\"locale\":\"en-US\",\"message\":\"API key not valid. Please pass a valid API key.\"}]}}","name":"Error","stack":"ApiError: {\"error\":{\"code\":400,\"message\":\"API key not valid. Please pass a valid API key.\",\"status\":\"INVALID_ARGUMENT\",\"details\":[{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"API_KEY_INVALID\",\"domain\":\"googleapis.com\",\"metadata\":{\"service\":\"generativelanguage.googleapis.com\"}},{\"@type\":\"type.googleapis.com/google.rpc.LocalizedMessage\",\"locale\":\"en-US\",\"message\":\"API key not valid. Please pass a valid API key.\"}]}}\n    at throwErrorIfNotOK (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/@google/genai/dist/node/index.cjs:13977:30)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async /Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/@google/genai/dist/node/index.cjs:13753:13\n    at async Models.generateContent (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/@google/genai/dist/node/index.cjs:15021:24)\n    at async /Users/rahuljoshi/Downloads/therapist_ai/backend/src/inngest/aiFunctions.ts:187:34\n    at async V1InngestExecution.tryExecuteStep (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/execution/v1.ts:276:14)\n    at async steps-found (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/execution/v1.ts:200:28)\n    at async V1InngestExecution._start (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/execution/v1.ts:147:24)\n    at async InngestCommHandler.handleAction (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/components/InngestCommHandler.ts:1126:28)\n    at async ServerTiming.wrap (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/src/helpers/ServerTiming.ts:82:15)","stepId":"analyze-with-gemini","timestamp":"2025-09-01T19:38:22.051Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T19:39:33.886Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T19:39:33.889Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T19:39:33.889Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T19:39:37.591Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T19:39:37.595Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T19:39:37.596Z"}
{"code":"ERR_MODULE_NOT_FOUND","level":"error","message":"Error in sendMessage: Cannot find module '/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.mjs' imported from /Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts","stack":"Error: Cannot find module '/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.mjs' imported from /Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts\n    at finalizeResolution (node:internal/modules/esm/resolve:275:11)\n    at moduleResolve (node:internal/modules/esm/resolve:932:10)\n    at defaultResolve (node:internal/modules/esm/resolve:1056:11)\n    at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:654:12)\n    at ModuleLoader.#cachedDefaultResolve (node:internal/modules/esm/loader:603:25)\n    at ModuleLoader.resolve (node:internal/modules/esm/loader:586:38)\n    at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:242:38)\n    at onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:546:36)\n    at TracingChannel.tracePromise (node:diagnostics_channel:344:14)\n    at ModuleLoader.import (node:internal/modules/esm/loader:545:21)","timestamp":"2025-09-01T19:39:40.094Z","url":"file:///Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.mjs"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T19:54:38.693Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T19:54:38.700Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T19:54:38.700Z"}
{"code":"ERR_UNKNOWN_FILE_EXTENSION","level":"error","message":"Error in sendMessage: Unknown file extension \".mts\" for /Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.mts","stack":"TypeError: Unknown file extension \".mts\" for /Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.mts\n    at Object.getFileProtocolModuleFormat [as file:] (node:internal/modules/esm/get_format:219:9)\n    at defaultGetFormat (node:internal/modules/esm/get_format:245:36)\n    at defaultLoad (node:internal/modules/esm/load:120:22)\n    at async ModuleLoader.loadAndTranslate (node:internal/modules/esm/loader:483:32)\n    at async ModuleJob._link (node:internal/modules/esm/module_job:115:19)","timestamp":"2025-09-01T19:54:46.075Z"}
{"code":"ERR_UNKNOWN_FILE_EXTENSION","level":"error","message":"Error in sendMessage: Unknown file extension \".mts\" for /Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.mts","stack":"TypeError: Unknown file extension \".mts\" for /Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.mts\n    at Object.getFileProtocolModuleFormat [as file:] (node:internal/modules/esm/get_format:219:9)\n    at defaultGetFormat (node:internal/modules/esm/get_format:245:36)\n    at defaultLoad (node:internal/modules/esm/load:120:22)\n    at async ModuleLoader.loadAndTranslate (node:internal/modules/esm/loader:483:32)\n    at async ModuleJob._link (node:internal/modules/esm/module_job:115:19)","timestamp":"2025-09-01T19:54:57.781Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T19:55:50.438Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T19:55:50.440Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T19:55:50.440Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T19:56:14.718Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T19:56:14.723Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T19:56:14.723Z"}
{"code":"ERR_MODULE_NOT_FOUND","level":"error","message":"Error in sendMessage: Cannot find module '/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.js' imported from /Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts","stack":"Error: Cannot find module '/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.js' imported from /Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts\n    at finalizeResolution (node:internal/modules/esm/resolve:275:11)\n    at moduleResolve (node:internal/modules/esm/resolve:932:10)\n    at defaultResolve (node:internal/modules/esm/resolve:1056:11)\n    at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:654:12)\n    at ModuleLoader.#cachedDefaultResolve (node:internal/modules/esm/loader:603:25)\n    at ModuleLoader.resolve (node:internal/modules/esm/loader:586:38)\n    at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:242:38)\n    at onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:546:36)\n    at TracingChannel.tracePromise (node:diagnostics_channel:344:14)\n    at ModuleLoader.import (node:internal/modules/esm/loader:545:21)","timestamp":"2025-09-01T19:56:28.658Z","url":"file:///Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.js"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T19:59:17.799Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T19:59:17.802Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T19:59:17.803Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T20:00:58.908Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T20:00:58.910Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T20:00:58.910Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T20:01:05.873Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T20:01:05.876Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T20:01:05.876Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T20:01:09.810Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T20:01:09.812Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T20:01:09.813Z"}
{"code":"ERR_MODULE_NOT_FOUND","level":"error","message":"Error in sendMessage: Cannot find module '/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.mjs' imported from /Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts","stack":"Error: Cannot find module '/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.mjs' imported from /Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts\n    at finalizeResolution (node:internal/modules/esm/resolve:275:11)\n    at moduleResolve (node:internal/modules/esm/resolve:932:10)\n    at defaultResolve (node:internal/modules/esm/resolve:1056:11)\n    at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:654:12)\n    at ModuleLoader.#cachedDefaultResolve (node:internal/modules/esm/loader:603:25)\n    at ModuleLoader.resolve (node:internal/modules/esm/loader:586:38)\n    at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:242:38)\n    at onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:546:36)\n    at TracingChannel.tracePromise (node:diagnostics_channel:344:14)\n    at ModuleLoader.import (node:internal/modules/esm/loader:545:21)","timestamp":"2025-09-01T20:01:19.748Z","url":"file:///Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.mjs"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T20:08:25.027Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T20:08:25.030Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T20:08:25.030Z"}
{"code":"ERR_MODULE_NOT_FOUND","level":"error","message":"Error in sendMessage: Cannot find module '/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.mjs' imported from /Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts","stack":"Error: Cannot find module '/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.mjs' imported from /Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts\n    at finalizeResolution (node:internal/modules/esm/resolve:275:11)\n    at moduleResolve (node:internal/modules/esm/resolve:932:10)\n    at defaultResolve (node:internal/modules/esm/resolve:1056:11)\n    at ModuleLoader.defaultResolve (node:internal/modules/esm/loader:654:12)\n    at ModuleLoader.#cachedDefaultResolve (node:internal/modules/esm/loader:603:25)\n    at ModuleLoader.resolve (node:internal/modules/esm/loader:586:38)\n    at ModuleLoader.getModuleJobForImport (node:internal/modules/esm/loader:242:38)\n    at onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:546:36)\n    at TracingChannel.tracePromise (node:diagnostics_channel:344:14)\n    at ModuleLoader.import (node:internal/modules/esm/loader:545:21)","timestamp":"2025-09-01T20:08:35.472Z","url":"file:///Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/genai.mjs"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T20:08:54.814Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T20:08:54.822Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T20:08:54.822Z"}
{"level":"info","message":"Processing message: hi","sessionId":"f9054dd4-b349-43be-96ab-828f1e4fdedc","timestamp":"2025-09-01T20:08:56.091Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hi","systemPrompt":"You are an AI therapist assistant. Your role is to:\n              1. Provide empathetic and supportive responses\n              2. Use evidence-based therapeutic techniques\n              3. Maintain professional boundaries\n              4. Monitor for risk factors\n              5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T20:08:56.133Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hi","timestamp":"2025-09-01T20:08:56.284Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error in message analysis: hi","timestamp":"2025-09-01T20:08:56.381Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hi","timestamp":"2025-09-01T20:08:56.428Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hi","timestamp":"2025-09-01T20:08:56.584Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error generating response: hi","timestamp":"2025-09-01T20:08:56.643Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hi","timestamp":"2025-09-01T20:08:56.733Z"}
{"level":"error","message":"Error in sendMessage: Unexpected token '`', \"```json\n{\n\"... is not valid JSON","stack":"SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at sendMessage (/Users/rahuljoshi/Downloads/therapist_ai/backend/src/controllers/chat.ts:137:31)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-09-01T20:08:57.130Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T21:28:20.171Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T21:28:20.184Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T21:28:20.185Z"}
{"level":"info","message":"Processing message: hello","sessionId":"f9054dd4-b349-43be-96ab-828f1e4fdedc","timestamp":"2025-09-01T21:28:22.651Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n  1. Provide empathetic and supportive responses\n  2. Use evidence-based therapeutic techniques\n  3. Maintain professional boundaries\n  4. Monitor for risk factors\n  5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T21:28:22.692Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T21:28:22.991Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error in message analysis: hello","timestamp":"2025-09-01T21:28:23.107Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T21:28:23.128Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T21:28:23.274Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error generating response: hello","timestamp":"2025-09-01T21:28:23.330Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T21:28:23.423Z"}
{"level":"error","message":"Failed to parse analysis JSON:","timestamp":"2025-09-01T21:28:23.576Z"}
{"_message":"ChatSession validation failed","errors":{"messages.0.metadata.analysis":{"kind":"string","message":"Cast to string failed for value \"{}\" (type Object) at path \"metadata.analysis\"","name":"CastError","path":"metadata.analysis","reason":null,"stringValue":"\"{}\"","value":{},"valueType":"Object"}},"level":"error","message":"Error in sendMessage: ChatSession validation failed: messages.0.metadata.analysis: Cast to string failed for value \"{}\" (type Object) at path \"metadata.analysis\"","stack":"ValidationError: ChatSession validation failed: messages.0.metadata.analysis: Cast to string failed for value \"{}\" (type Object) at path \"metadata.analysis\"\n    at model.Document.invalidate (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:3358:32)\n    at EmbeddedDocument.Subdocument.invalidate (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at EmbeddedDocument.$set (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:1480:12)\n    at EmbeddedDocument.$set (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:1227:14)\n    at EmbeddedDocument.$set (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:1117:14)\n    at EmbeddedDocument.Document (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:178:12)\n    at EmbeddedDocument.Subdocument (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/types/subdocument.js:34:12)\n    at EmbeddedDocument.ArraySubdocument [as constructor] (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/types/arraySubdocument.js:44:15)\n    at new EmbeddedDocument (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/schema/documentArray.js:142:17)\n    at Proxy._cast (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/types/documentArray/methods/index.js:103:17)","timestamp":"2025-09-01T21:28:24.464Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T21:28:33.233Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T21:28:33.236Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T21:28:33.236Z"}
{"level":"info","message":"Processing message: we","sessionId":"236bec2a-424c-45ac-9366-76cee4c9feab","timestamp":"2025-09-01T21:28:41.950Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"we","systemPrompt":"You are an AI therapist assistant. Your role is to:\n1. Provide empathetic and supportive responses\n2. Use evidence-based therapeutic techniques\n3. Maintain professional boundaries\n4. Monitor for risk factors\n5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T21:28:41.991Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: we","timestamp":"2025-09-01T21:28:42.340Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error in message analysis: we","timestamp":"2025-09-01T21:28:42.458Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: we","timestamp":"2025-09-01T21:28:42.477Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: we","timestamp":"2025-09-01T21:28:42.634Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error generating response: we","timestamp":"2025-09-01T21:28:42.697Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: we","timestamp":"2025-09-01T21:28:42.778Z"}
{"level":"error","message":"Failed to parse analysis JSON:","timestamp":"2025-09-01T21:28:43.212Z"}
{"_message":"ChatSession validation failed","errors":{"messages.0.metadata.analysis":{"kind":"string","message":"Cast to string failed for value \"{}\" (type Object) at path \"metadata.analysis\"","name":"CastError","path":"metadata.analysis","reason":null,"stringValue":"\"{}\"","value":{},"valueType":"Object"}},"level":"error","message":"Error in sendMessage: ChatSession validation failed: messages.0.metadata.analysis: Cast to string failed for value \"{}\" (type Object) at path \"metadata.analysis\"","stack":"ValidationError: ChatSession validation failed: messages.0.metadata.analysis: Cast to string failed for value \"{}\" (type Object) at path \"metadata.analysis\"\n    at model.Document.invalidate (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:3358:32)\n    at EmbeddedDocument.Subdocument.invalidate (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at EmbeddedDocument.$set (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:1480:12)\n    at EmbeddedDocument.$set (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:1227:14)\n    at EmbeddedDocument.$set (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:1117:14)\n    at EmbeddedDocument.Document (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:178:12)\n    at EmbeddedDocument.Subdocument (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/types/subdocument.js:34:12)\n    at EmbeddedDocument.ArraySubdocument [as constructor] (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/types/arraySubdocument.js:44:15)\n    at new EmbeddedDocument (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/schema/documentArray.js:142:17)\n    at Proxy._cast (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/types/documentArray/methods/index.js:103:17)","timestamp":"2025-09-01T21:28:44.595Z"}
{"level":"info","message":"Processing message: hello","sessionId":"236bec2a-424c-45ac-9366-76cee4c9feab","timestamp":"2025-09-01T21:29:52.418Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n1. Provide empathetic and supportive responses\n2. Use evidence-based therapeutic techniques\n3. Maintain professional boundaries\n4. Monitor for risk factors\n5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T21:29:52.460Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T21:29:52.679Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error in message analysis: hello","timestamp":"2025-09-01T21:29:52.943Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T21:29:52.977Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T21:29:53.128Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error generating response: hello","timestamp":"2025-09-01T21:29:53.197Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T21:29:53.278Z"}
{"level":"error","message":"Failed to parse analysis JSON:","timestamp":"2025-09-01T21:29:53.673Z"}
{"_message":"ChatSession validation failed","errors":{"messages.0.metadata.analysis":{"kind":"string","message":"Cast to string failed for value \"{}\" (type Object) at path \"metadata.analysis\"","name":"CastError","path":"metadata.analysis","reason":null,"stringValue":"\"{}\"","value":{},"valueType":"Object"}},"level":"error","message":"Error in sendMessage: ChatSession validation failed: messages.0.metadata.analysis: Cast to string failed for value \"{}\" (type Object) at path \"metadata.analysis\"","stack":"ValidationError: ChatSession validation failed: messages.0.metadata.analysis: Cast to string failed for value \"{}\" (type Object) at path \"metadata.analysis\"\n    at model.Document.invalidate (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:3358:32)\n    at EmbeddedDocument.Subdocument.invalidate (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at EmbeddedDocument.$set (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:1480:12)\n    at EmbeddedDocument.$set (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:1227:14)\n    at EmbeddedDocument.$set (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:1117:14)\n    at EmbeddedDocument.Document (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/document.js:178:12)\n    at EmbeddedDocument.Subdocument (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/types/subdocument.js:34:12)\n    at EmbeddedDocument.ArraySubdocument [as constructor] (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/types/arraySubdocument.js:44:15)\n    at new EmbeddedDocument (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/schema/documentArray.js:142:17)\n    at Proxy._cast (/Users/rahuljoshi/Downloads/therapist_ai/backend/node_modules/mongoose/lib/types/documentArray/methods/index.js:103:17)","timestamp":"2025-09-01T21:29:54.416Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T21:41:50.425Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T21:41:50.428Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T21:41:50.429Z"}
{"level":"info","message":"Processing message: hello","sessionId":"236bec2a-424c-45ac-9366-76cee4c9feab","timestamp":"2025-09-01T21:41:58.630Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n1. Provide empathetic and supportive responses\n2. Use evidence-based therapeutic techniques\n3. Maintain professional boundaries\n4. Monitor for risk factors\n5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T21:41:58.673Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T21:41:58.836Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error in message analysis: hello","timestamp":"2025-09-01T21:41:58.965Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T21:41:59.126Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T21:41:59.278Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error generating response: hello","timestamp":"2025-09-01T21:41:59.361Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T21:41:59.427Z"}
{"level":"error","message":"Failed to parse analysis JSON:","timestamp":"2025-09-01T21:42:00.157Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"236bec2a-424c-45ac-9366-76cee4c9feab","timestamp":"2025-09-01T21:42:00.885Z"}
{"level":"info","message":"Processing message: how do i get better at work life balance","sessionId":"236bec2a-424c-45ac-9366-76cee4c9feab","timestamp":"2025-09-01T21:42:19.998Z"}
{"event":{"data":{"goals":[],"history":[{"_id":"68b61328d6769324c716f1a7","content":"Hello! It's good to connect with you. Thanks for reaching out. How are you feeling today? Is there anything in particular you'd like to talk about or focus on during our time together? I'm here to listen and support you.\n","metadata":{"analysis":"{}","progress":{"emotionalState":"","riskLevel":"0"}},"role":"assistant","timestamp":"2025-09-01T21:42:00.814Z"}],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"how do i get better at work life balance","systemPrompt":"You are an AI therapist assistant. Your role is to:\n1. Provide empathetic and supportive responses\n2. Use evidence-based therapeutic techniques\n3. Maintain professional boundaries\n4. Monitor for risk factors\n5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T21:42:20.053Z"}
{"historyLength":1,"level":"info","message":"Processing chat message: how do i get better at work life balance","timestamp":"2025-09-01T21:42:20.421Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error in message analysis: how do i get better at work life balance","timestamp":"2025-09-01T21:42:20.528Z"}
{"historyLength":1,"level":"info","message":"Processing chat message: how do i get better at work life balance","timestamp":"2025-09-01T21:42:20.577Z"}
{"historyLength":1,"level":"info","message":"Processing chat message: how do i get better at work life balance","timestamp":"2025-09-01T21:42:20.722Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error generating response: how do i get better at work life balance","timestamp":"2025-09-01T21:42:20.798Z"}
{"historyLength":1,"level":"info","message":"Processing chat message: how do i get better at work life balance","timestamp":"2025-09-01T21:42:20.874Z"}
{"level":"error","message":"Failed to parse analysis JSON:","timestamp":"2025-09-01T21:42:21.477Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"236bec2a-424c-45ac-9366-76cee4c9feab","timestamp":"2025-09-01T21:42:24.492Z"}
{"level":"info","message":"Processing message: how do i improve sleep","sessionId":"875d4357-8cff-43a2-99ea-5481b90a7e0f","timestamp":"2025-09-01T21:43:53.029Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"how do i improve sleep","systemPrompt":"You are an AI therapist assistant. Your role is to:\n1. Provide empathetic and supportive responses\n2. Use evidence-based therapeutic techniques\n3. Maintain professional boundaries\n4. Monitor for risk factors\n5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T21:43:53.066Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: how do i improve sleep","timestamp":"2025-09-01T21:43:53.278Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error in message analysis: how do i improve sleep","timestamp":"2025-09-01T21:43:53.464Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: how do i improve sleep","timestamp":"2025-09-01T21:43:53.576Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: how do i improve sleep","timestamp":"2025-09-01T21:43:53.727Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error generating response: how do i improve sleep","timestamp":"2025-09-01T21:43:53.783Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: how do i improve sleep","timestamp":"2025-09-01T21:43:53.878Z"}
{"level":"error","message":"Failed to parse analysis JSON:","timestamp":"2025-09-01T21:43:54.900Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"875d4357-8cff-43a2-99ea-5481b90a7e0f","timestamp":"2025-09-01T21:43:59.039Z"}
{"level":"info","message":"Processing message: what about my emotional state","sessionId":"875d4357-8cff-43a2-99ea-5481b90a7e0f","timestamp":"2025-09-01T21:44:17.989Z"}
{"event":{"data":{"goals":[],"history":[{"_id":"68b6139ed6769324c716f1e0","content":"Okay, I understand you're asking about how to improve your sleep. That's a really common concern, and it's great that you're taking steps to address it. Poor sleep can impact so many areas of our lives, so prioritizing it is important.\n\nBefore we dive into specific strategies, I want to acknowledge that struggling with sleep can be really frustrating and exhausting (literally!). It's okay to feel that way.\n\nThere are many evidence-based techniques we can explore. A good starting point is to look at your sleep hygiene. This refers to your habits and routines surrounding sleep. Some key elements of good sleep hygiene include:\n\n*   **Consistent Sleep Schedule:** Try to go to bed and wake up around the same time each day, even on weekends. This helps regulate your body's natural sleep-wake cycle.\n*   **Relaxing Bedtime Routine:** Create a calming routine before bed, such as taking a warm bath, reading a book (a physical book is preferable), or listening to relaxing music.\n*   **Optimizing Your Sleep Environment:** Make sure your bedroom is dark, quiet, and cool. Consider using blackout curtains, earplugs, or a white noise machine.\n*   **Avoiding Stimulants Before Bed:** Limit caffeine and alcohol intake, especially in the hours leading up to bedtime. Nicotine can also disrupt sleep.\n*   **Regular Exercise:** Regular physical activity can improve sleep, but avoid exercising too close to bedtime.\n*   **Limiting Screen Time Before Bed:** The blue light emitted from screens can interfere with melatonin production, a hormone that regulates sleep. Try to avoid using electronic devices for at least an hour before bed.\n\nCognitive Behavioral Therapy for Insomnia (CBT-I) is another highly effective approach. It involves identifying and changing negative thoughts and behaviors that contribute to sleep problems. This often involves techniques like stimulus control (associating your bed only with sleep), sleep restriction (briefly reducing your time in bed to consolidate sleep), and cognitive restructuring (challenging and changing negative thoughts about sleep).\n\nWhich of these areas resonates most with you right now? Or perhaps you've already tried some of these? Knowing a little more about what you've already tried, and what your typical sleep habits are like, will help me guide you more effectively.\n\nAlso, and this is important, if you're experiencing significant sleep difficulties, especially if they've been persistent or are impacting your daily life in a major way, it's always a good idea to consult with a medical doctor or a sleep specialist. They can rule out any underlying medical conditions that might be contributing to your sleep problems.\n\nHow does that sound? Let's start by exploring what might be contributing to your sleep challenges and then we can develop a plan to address them.\n","metadata":{"analysis":"{}","progress":{"emotionalState":"","riskLevel":"0"}},"role":"assistant","timestamp":"2025-09-01T21:43:58.951Z"}],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"what about my emotional state","systemPrompt":"You are an AI therapist assistant. Your role is to:\n1. Provide empathetic and supportive responses\n2. Use evidence-based therapeutic techniques\n3. Maintain professional boundaries\n4. Monitor for risk factors\n5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T21:44:18.035Z"}
{"historyLength":1,"level":"info","message":"Processing chat message: what about my emotional state","timestamp":"2025-09-01T21:44:18.336Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error in message analysis: what about my emotional state","timestamp":"2025-09-01T21:44:18.437Z"}
{"historyLength":1,"level":"info","message":"Processing chat message: what about my emotional state","timestamp":"2025-09-01T21:44:18.482Z"}
{"historyLength":1,"level":"info","message":"Processing chat message: what about my emotional state","timestamp":"2025-09-01T21:44:18.633Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error generating response: what about my emotional state","timestamp":"2025-09-01T21:44:18.692Z"}
{"historyLength":1,"level":"info","message":"Processing chat message: what about my emotional state","timestamp":"2025-09-01T21:44:18.781Z"}
{"level":"error","message":"Failed to parse analysis JSON:","timestamp":"2025-09-01T21:44:19.609Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"875d4357-8cff-43a2-99ea-5481b90a7e0f","timestamp":"2025-09-01T21:44:21.746Z"}
{"level":"info","message":"Processing message: hello","sessionId":"afd58776-dfe7-46bd-9324-c71b05da6f36","timestamp":"2025-09-01T22:37:07.869Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n1. Provide empathetic and supportive responses\n2. Use evidence-based therapeutic techniques\n3. Maintain professional boundaries\n4. Monitor for risk factors\n5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-01T22:37:07.912Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T22:37:08.137Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error in message analysis: hello","timestamp":"2025-09-01T22:37:08.237Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T22:37:08.283Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T22:37:08.438Z"}
{"error":{"name":"ApiError","status":400},"level":"error","message":"Error generating response: hello","timestamp":"2025-09-01T22:37:08.495Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-09-01T22:37:08.591Z"}
{"level":"error","message":"Failed to parse analysis JSON:","timestamp":"2025-09-01T22:37:08.959Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"afd58776-dfe7-46bd-9324-c71b05da6f36","timestamp":"2025-09-01T22:37:09.667Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T22:43:02.786Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T22:43:02.791Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T22:43:02.792Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-01T22:43:19.474Z"}
{"level":"info","message":"server is running on port 3001","timestamp":"2025-09-01T22:43:19.476Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-01T22:43:19.477Z"}
